<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>原型</title>
</head>

<body>
  <script>
    function Ninja(name) {
      this.name = name
    }

    Ninja.prototype.swingSword = function () {
      console.log('swing sword 111')
    }

    // console.log('Ninja.prototype.constructor', Ninja.prototype.constructor)

    // Ninja.prototype = {
    //   hi: function () {

    //   }
    // }

    // console.log('Ninja.prototype.constructor', Ninja.prototype.constructor)

    // console.log(Ninja.prototype.constructor === Object); // true


    // console.log(Ninja.prototype.swingSword.prototype) // 也是有值的

  </script>

  <!-- <script>
    var a = new Ninja('a')
    // console.log(a)

    // console.log('a.constructor', a.constructor)

    // console.log(Object.keys(a))

    // console.log(Ninja.prototype.constructor === Ninja)

    Ninja.prototype = {
      swingSword: function () {
        console.log('swing sword 2222');
      },
      pierce: function () {
        console.log('pierce')
      }
    }

    var b = new Ninja('b')
  // console.log(b);


  // console.log(a['__proto__'].constructor === Ninja)
  // console.log(b['__proto__'].constructor === Ninja)
  // console.log(Ninja.prototype.constructor === Ninja)

  // console.log('--', a.constructor, b.constructor, a.constructor === b.constructor) // 已经完全两回事了
  </script> -->

  <!-- <script>
    console.log(Ninja.prototype['__proto__'].constructor === Object)
    console.log(Ninja.prototype.constructor)// function Ninja
    console.log(Ninja.prototype['__proto__'])
    console.log(Ninja.prototype['__proto__'] === Object, Ninja.prototype['__proto__'] === Object.prototype) // false true
    console.log(Ninja.prototype)
    console.log(Ninja['__proto__'])
    console.log(Ninja['__proto__'] === Function.prototype) // true
    console.log(Ninja.constructor === Function); // true
    console.log('Object.constructor', Object.constructor)
    console.log('Object.prototype', Object.prototype, Object.prototype === Object) // false
    var ninja = new Ninja('nn')
    console.log("ninja['__proto__']", ninja['__proto__'] === Ninja.prototype) //true
    var num = 1
    console.log(num.constructor); // function Number()
    console.log(num['__proto__']);
    console.log(num['__proto__'] === num.constructor.prototype) // true
  </script> -->

  <!-- <script>
    function Graph() {
      this.vertices = [];
      this.edges = [];
    }

    Graph.prototype.addVertex = function (v) {
      this.vertices.push(v);
    }

    Graph.prototype.name = 'graph'

    var g = new Graph();
    g.addVertex(1);
    g.addVertex(2)
    console.log(g);

    var h = new Object()
    h['__proto__'] = Graph.prototype
    Graph.call(h)

    h.addVertex(100)
    h.addVertex(200)
    console.log(h);

    console.log(Graph.prototype.addVertex.prototype)

    console.log('g.name', g.name, Graph.prototype.name);
    g.name = 'hello'
    console.log('g.name', g.name, Graph.prototype.name);
    
    var j = new Graph()
    console.log('j.name', j.name);

  </script> -->

  <!-- <script>
    function Person(name) {
      this.name = name
    }

    Function.prototype.new = function (args) {
      console.log(this)
      console.log(Object.prototype.toString.call(this));

      var obj = Object.create(this.prototype)
      console.log(obj) // person
      var rect = this.apply(obj, arguments)
      return (typeof rect === 'object' && rect) || obj
    }

    var p = Person.new('pp')
    console.log(p);

  </script> -->

  <!-- <script>
    function A(name) {
      this.name = name || 'a.name'
      this.hi = function() {
        console.log('A hi', this.name)
      }
    }

    A.prototype.foo = function() {
      console.log('A foo', this.name)
    }

    function B(name, age) {
      A.call(this, name)
      this.age = age|| 18
    }

    var b = new B('mm', 1000)
    console.log(b);

    console.log(b.name, b.age);
    b.hi()
    b.foo()

  </script> -->

  <!-- <script>
  function Person() {

  }

  var p = new Person()

  console.log(Person.prototype.__proto__ === Object.prototype);
  
  
  </script> -->

  <!-- <script>
    function Foo() {
      this.value = 42;
    }
    Foo.prototype = {
      method: function () { }
    };

    function Bar() { }

    // 设置Bar的prototype属性为Foo的实例对象
    Bar.prototype = new Foo();
    Bar.prototype.foo = 'Hello World';

    // 修正Bar.prototype.constructor为Bar本身
    Bar.prototype.constructor = Bar;

    var test = new Bar() // 创建Bar的一个新实例
    console.log(test instanceof Bar, test instanceof Foo, test instanceof Object);

    console.log(test)

  </script> -->

  <!-- <script>
    function Foo() {
      this.value = 42;
    }
    Foo.prototype = {
      method: function () { }
    };

    Foo.prototype.constructor = Foo

    function Bar() { }

    // 设置Bar的prototype属性为Foo的实例对象
    Bar.prototype = new Foo();
    Bar.prototype.foo = 'Hello World';

    // 修正Bar.prototype.constructor为Bar本身
    Bar.prototype.constructor = Bar;

    var test = new Bar() // 创建Bar的一个新实例
    console.log(test instanceof Bar, test instanceof Foo, test instanceof Object);

    console.log(test)

  </script> -->

  <!-- <script>
    function Foo() {
      this.value = 42;
    }

    Foo.prototype.method = function () {

    }

    function Bar() { }

    // 设置Bar的prototype属性为Foo的实例对象
    Bar.prototype = new Foo();
    Bar.prototype.foo = 'Hello World';

    // 修正Bar.prototype.constructor为Bar本身
    Bar.prototype.constructor = Bar;

    var test = new Bar() // 创建Bar的一个新实例
    console.log(test instanceof Bar, test instanceof Foo, test instanceof Object);

    console.log(test)

  </script> -->

  <!-- <script>
    // function Foo() {}
    // function Bar() {}

    // Foo.prototype.foo = function () {}

    // Bar.prototype = new Foo()

    // var b = new Bar()

    // console.log(b instanceof Foo, b instanceof Bar);


    var ninja = new Ninja()

    console.log(ninja instanceof Ninja)

    Ninja.prototype = {}

    console.log(ninja instanceof Ninja)


  </script> -->

  <script>
    var a = {}
    var b = Object.create(a)
    // console.log(b instanceof Object);
    // console.log(b instanceof a);
    

    function isRelatedTo(o1, o2) {
      var F = function() {}
      F.prototype = o2
      return o1 instanceof F;
    }

    console.log(isRelatedTo(b, a));

    function P(name) {
      this.name = name || 'p'
    }

    P.prototype.hi = function() {}

    var p1 = new P()
    console.log(p1);
    p1 instanceof P // true

    var p2 = Object.create(P)
    console.log(p2)
    p2 instanceof P // false


    var p3 = Object.create(P.prototype)
    console.log(p3);
    p3 instanceof P // true

    var m = new P()
    var p4 = Object.create(m)
    console.log(p4);
    p4 instanceof P // true
    // p4 instanceof m // error: right-hand side of instanceof is not callable

    
    
    
    
    
  </script>

</body>

</html>