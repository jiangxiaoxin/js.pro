<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>原型</title>
</head>

<body>
  <script>
    function Ninja(name) {
      this.name = name
    }

    Ninja.prototype.swingSword = function () {
      console.log('swing sword 111')
    }

    // console.log(Ninja.prototype.swingSword.prototype) // 也是有值得

  </script>

  <!-- <script>
    var a = new Ninja('a')
    // console.log(a)

    // console.log('a.constructor', a.constructor)

    // console.log(Object.keys(a))

    // console.log(Ninja.prototype.constructor === Ninja)

    Ninja.prototype = {
      swingSword: function () {
        console.log('swing sword 2222');
      },
      pierce: function () {
        console.log('pierce')
      }
    }

    var b = new Ninja('b')
  // console.log(b);


  // console.log(a['__proto__'].constructor === Ninja)
  // console.log(b['__proto__'].constructor === Ninja)
  // console.log(Ninja.prototype.constructor === Ninja)

  // console.log('--', a.constructor, b.constructor, a.constructor === b.constructor) // 已经完全两回事了
  </script> -->

  <!-- <script>
    console.log(Ninja.prototype['__proto__'].constructor === Object)
    console.log(Ninja.prototype.constructor)// function Ninja
    console.log(Ninja.prototype['__proto__'])
    console.log(Ninja.prototype['__proto__'] === Object, Ninja.prototype['__proto__'] === Object.prototype) // false true
    console.log(Ninja.prototype)
    console.log(Ninja['__proto__'])
    console.log(Ninja['__proto__'] === Function.prototype) // true
    console.log(Ninja.constructor === Function); // true
    console.log('Object.constructor', Object.constructor)
    console.log('Object.prototype', Object.prototype, Object.prototype === Object) // false
    var ninja = new Ninja('nn')
    console.log("ninja['__proto__']", ninja['__proto__'] === Ninja.prototype) //true
    var num = 1
    console.log(num.constructor); // function Number()
    console.log(num['__proto__']);
    console.log(num['__proto__'] === num.constructor.prototype) // true
  </script> -->

  <!-- <script>
    function Graph() {
      this.vertices = [];
      this.edges = [];
    }

    Graph.prototype.addVertex = function (v) {
      this.vertices.push(v);
    }

    Graph.prototype.name = 'graph'

    var g = new Graph();
    g.addVertex(1);
    g.addVertex(2)
    console.log(g);

    var h = new Object()
    h['__proto__'] = Graph.prototype
    Graph.call(h)

    h.addVertex(100)
    h.addVertex(200)
    console.log(h);

    console.log(Graph.prototype.addVertex.prototype)

    console.log('g.name', g.name, Graph.prototype.name);
    g.name = 'hello'
    console.log('g.name', g.name, Graph.prototype.name);
    
    var j = new Graph()
    console.log('j.name', j.name);

  </script> -->

  <script>
  function Person(name) {
    this.name = name
  }

  Function.prototype.new = function(args) {
    console.log(this)
    console.log(Object.prototype.toString.call(this));
    
    var obj = Object.create(this.prototype)
    console.log(obj) // person
    var rect = this.apply(obj, arguments)
    return (typeof rect === 'object' && rect) || obj
  }

  var p = Person.new('pp')
  console.log(p);
  


  
  </script>

</body>

</html>